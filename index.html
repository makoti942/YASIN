<!doctype html>
<html lang="en" dir="auto">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/png" href="/makoti-logo.png" />
        <link rel="apple-touch-icon" href="/makoti-logo.png" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
        <title>Makoti Traders | Premium Bot</title>
        
        <style>
            :root { font-size: 62.5%; }

            /* 1. DARK THEME BASE */
            .blocklyMainBackground, .injectionDiv, .body.theme--light {
                background-color: #000000 !important;
                fill: #000000 !important;
            }

            /* 2. LOGO HEADER STYLING */
            #makoti-header {
                width: 100%;
                background: #0a0e17;
                padding: 10px;
                text-align: center;
                border-bottom: 2px solid #00d9ff;
            }
            #makoti-header img {
                height: 40px; /* Adjust height as needed */
            }

            /* 3. TEXT COLORS */
            .blocklyText { fill: #00d9ff !important; }

            /* WIN/LOSS COLORS (High Priority) */
            .makoti-profit { fill: #00ff41 !important; color: #00ff41 !important; }
            .makoti-loss { fill: #ff444f !important; color: #ff444f !important; }

            /* 4. DYNAMIC BUTTONS */
            .makoti-stop-btn {
                background-color: #ff444f !important;
                box-shadow: 0 0 15px #ff444f !important;
                color: white !important;
            }

            /* 5. INPUT BOXES */
            .blocklyEditableText > .blocklyFieldRect {
                fill: #1a1a1a !important;
                stroke: #00d9ff !important;
            }
        </style>
    </head>

    <body class="body theme theme--light">
        <div id="makoti-header">
            <img src="/makoti-logo.png" alt="Makoti Traders Logo">
        </div>

        <div id="root"></div>
        
        <script>
            // --- MAKOTI TRADERS POWER ENGINE ---
            const makotiEngine = new MutationObserver(() => {
                
                // A. FIX THE STOP BUTTON
                document.querySelectorAll('button').forEach(btn => {
                    if (btn.textContent.toLowerCase().includes('stop')) {
                        btn.classList.add('makoti-stop-btn');
                    } else {
                        btn.classList.remove('makoti-stop-btn');
                    }
                });

                // B. FIX ALL LOSS COLORS (Individual & Total)
                const allNumbers = document.querySelectorAll('.blocklyText, .dc-stat__value, span, div');
                
                allNumbers.forEach(el => {
                    const val = el.textContent.trim();
                    
                    // Logic: If it has a minus sign, it is a LOSS
                    if (val.includes('-')) {
                        el.style.setProperty('fill', '#ff444f', 'important');
                        el.style.setProperty('color', '#ff444f', 'important');
                        el.classList.add('makoti-loss');
                    } 
                    // Logic: If it is a positive profit number
                    else if ((val.includes('$') || val.includes('+')) && !val.includes(':')) {
                        el.style.setProperty('fill', '#00ff41', 'important');
                        el.style.setProperty('color', '#00ff41', 'important');
                        el.classList.add('makoti-profit');
                    }
                });
            });

            // Start watching for changes in the trade results
            makotiEngine.observe(document.body, { 
                childList: true, 
                subtree: true, 
                characterData: true 
            });
        </script>
    </body>
</html>
